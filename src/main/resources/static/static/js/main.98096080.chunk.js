(this["webpackJsonpcrud-app-spring-boot-react"]=this["webpackJsonpcrud-app-spring-boot-react"]||[]).push([[0],{21:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(11),a=s.n(c),i=s(6),r=s(7),l=s(9),o=s(8),h=(s(21),s(12)),u=s(4),d=s(40),j=s(3),m=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={isOpen:!1},n.toggle=n.toggle.bind(Object(h.a)(n)),n}return Object(r.a)(s,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return Object(j.jsx)(u.h,{color:"dark",dark:!0,expand:"md",children:Object(j.jsx)(u.i,{tag:d.a,to:"/",children:"Home"})})}}]),s}(n.Component),b=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{}),Object(j.jsx)(u.c,{fluid:!0,children:Object(j.jsx)(u.a,{color:"link",children:Object(j.jsx)(d.a,{to:"/clients",children:"Clients"})})})]})}}]),s}(n.Component),p=s(41),O=s(42),f=s(43),x=s(26),v=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).alertSuccess=function(){return setTimeout((function(){n.setState({success:""})}),4e3),Object(j.jsx)("div",{className:"alert alert-success",children:"the operation passed successfully"})},n.alertDanger=function(){return setTimeout((function(){n.setState({success:""})}),4e3),Object(j.jsx)("div",{className:"alert alert-danger",children:"the operation has filled."})},n.state={clients:[],success:"",isLoading:!0},n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8081/api/").then((function(e){return e.json()})).then((function(t){setTimeout((function(){e.setState({clients:t,isLoading:!1})}),1e3)}))}},{key:"remove",value:function(e){var t=this;this.setState({isLoading:!0}),fetch("http://localhost:8081/api/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(s){if(200==s.status){var n=Object(x.a)(t.state.clients).filter((function(t){return t.id!==e}));setTimeout((function(){t.setState({clients:n,success:!0,isLoading:!1})}),1e3)}else t.setState({success:!1}),setTimeout((function(){t.setState({isLoading:!1})}),1e3)})).catch((function(e){t.setState({success:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.clients;if(this.state.isLoading)return Object(j.jsx)("div",{className:"spinner-border text-primary text-center",role:"status",children:Object(j.jsx)("h4",{className:"visually-hidden",children:"Loading..."})});var s=t.map((function(t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{style:{whiteSpace:"nowrap"},children:t.name}),Object(j.jsx)("td",{children:t.email}),Object(j.jsx)("td",{children:Object(j.jsxs)(u.b,{children:[Object(j.jsx)(u.a,{size:"sm",color:"primary",tag:d.a,to:"/clients/"+t.id,children:"Edit"}),Object(j.jsx)(u.a,{size:"sm",color:"danger",onClick:e.remove.bind(e,t.id),children:"Delete"})]})})]},t.id)}));return Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{}),Object(j.jsxs)(u.c,{className:"mt-5",children:[!0===this.state.success&&this.alertSuccess(),!1===this.state.success&&this.alertDanger(),Object(j.jsx)("div",{className:"float-right",children:Object(j.jsx)(u.a,{color:"success",tag:d.a,to:"/clients/new",children:"Add Client"})}),Object(j.jsx)("h3",{children:"Clients"}),Object(j.jsxs)(u.j,{className:"mt-4",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{width:"30%",children:"Name"}),Object(j.jsx)("th",{width:"30%",children:"Email"}),Object(j.jsx)("th",{width:"40%",children:"Actions"})]})}),Object(j.jsx)("tbody",{children:s})]})]})]})}}]),s}(n.Component),g=s(20),y=s.n(g),S=s(24),C=s(27),k=["errors"],N=RegExp(/^[a-zA-Z0-9.]+@[a-zA-Z0-9]+\.[A-Za-z]+$/),T=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).emptyItem={name:"",email:""},n.validation=function(e){var t=e.errors,s=Object(C.a)(e,k),n=!1;return Object.values(t).forEach((function(e){n=!(e.length>0)})),Object.values(s).forEach((function(e){n=null!==e})),n},n.alertSuccess=function(){return setTimeout((function(){n.setState({success:""}),n.props.history.push("/clients")}),4e3),Object(j.jsx)("div",{className:"alert alert-success",children:"the operation passed successfully"})},n.alertDanger=function(){return setTimeout((function(){n.setState({success:""})}),4e3),Object(j.jsx)("div",{className:"alert alert-danger",children:"the operation has filled."})},n.state={item:n.emptyItem,success:"",errors:{name:"",email:""}},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;"new"!==this.props.match.params.id&&fetch("http://localhost:8081/api/".concat(this.props.match.params.id)).then((function(e){return e.json()})).then((function(t){e.setState({item:t}),console.log(t)}))}},{key:"handleChange",value:function(e){var t=e.target,s=t.name,n=t.value,c=this.state,a=c.item,i=c.errors;switch(a[s]=n,s){case"name":i.name=n.length<5?"Name should be 5 characaters long":"";break;case"email":i.email=N.test(n)?"":"Email is not valid"}this.setState({errors:i,item:a})}},{key:"handleSubmit",value:function(){var e=Object(S.a)(y.a.mark((function e(t){var s,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.validation(this.state)){e.next=4;break}return this.setState({success:!1}),e.abrupt("return");case 4:return s=this.state.item,console.log(s.id),e.next=8,fetch("http://localhost:8081/api/"+(null==s.id?"/create":s.id),{method:s.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)});case 8:200==(n=e.sent).status?(console.log(this.state.success),null==s.id&&this.setState({item:this.emptyItem}),this.setState({success:!0}),console.log(n.status)):(this.setState({success:!1}),console.log("ddd"+n.status));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.errors,s=e.item,n=Object(j.jsx)("h2",{children:s.id?"Edit Client":"Add Client"});return Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{}),Object(j.jsxs)(u.c,{className:"",children:[n,!0===this.state.success&&this.alertSuccess(),!1===this.state.success&&this.alertDanger(),Object(j.jsxs)(u.d,{onSubmit:this.handleSubmit,className:"needs-validation",children:[Object(j.jsxs)(u.e,{children:[Object(j.jsx)(u.g,{for:"name",children:"Name"}),Object(j.jsx)(u.f,{type:"text",name:"name",id:"name",value:s.name,onChange:this.handleChange,autoComplete:"name",className:t.name.length>0?"is-invalid col-md-6 ":"col-md-6 "}),Object(j.jsx)("span",{className:"invalid-feedback",children:t.name})]}),Object(j.jsxs)(u.e,{children:[Object(j.jsx)(u.g,{for:"email",children:"Email"}),Object(j.jsx)(u.f,{type:"text",name:"email",id:"email",value:s.email,onChange:this.handleChange,autoComplete:"email",className:t.email.length>0?"is-invalid col-md-6":"col-md-6 "}),Object(j.jsx)("span",{className:"invalid-feedback",children:t.email})]}),Object(j.jsxs)(u.e,{children:[Object(j.jsx)(u.a,{color:"primary",type:"submit",children:"Save"})," ",Object(j.jsx)(u.a,{color:"secondary",tag:d.a,to:"/clients",children:"Cancel"})]})]})]})]})}}]),s}(n.Component),w=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(j.jsx)(p.a,{children:Object(j.jsxs)(O.a,{children:[Object(j.jsx)(f.a,{path:"/",exact:!0,component:b}),Object(j.jsx)(f.a,{path:"/clients",exact:!0,component:v}),Object(j.jsx)(f.a,{path:"/clients/:id",component:T})]})})}}]),s}(n.Component),E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,44)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))};s(37);a.a.render(Object(j.jsx)(w,{}),document.getElementById("root")),E()}},[[38,1,2]]]);
//# sourceMappingURL=main.98096080.chunk.js.map